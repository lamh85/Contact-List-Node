(function(){
  var app = angular.module("MyApp",[]);

  MyController = app.controller("MyController", ['$scope', '$http', function($scope, $http){
    
    console.log("hello from controller.js");
    
    var refresh = function() {
      $http.get('/contactlist').success(function(response) {
        console.log("Success function fired!");

        // Find the "response" object generated by server.js's routes
        // Remember to restart server!!!
        $scope.contactlist = response;
      }); // End GET function
      console.log("Refresh function is running!");
    } // Enclose the GET function in a function

    refresh();

    $scope.addContact = function() {
      console.log("You entered this info: " +$scope.contact);

      $http.post('/contactlist', $scope.contact).success(function(response) {
        console.log("Success function running!" +response);
        refresh();
      }); // end POST function
    }; // end addContact function
  
  }]); // End controller

})();


// function AppCtrl() {
//   console.log("hello from controller.js");
// }